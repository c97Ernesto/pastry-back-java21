# ================================================
# PRODUCTION PROFILE - Render Deployment
# ================================================
# IMPORTANTE: Todas las variables sensibles se configuran
# en Render Dashboard → Environment (NO en este archivo)

# ================================================
# Database - PostgreSQL (Render)
# ================================================
# Render proporciona DATABASE_URL en formato:
# postgresql://user:password@host:port/database
# Spring necesita prefijo jdbc:
spring.datasource.url=jdbc:${DATABASE_URL}
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2

# ================================================
# JPA / Hibernate
# ================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.open-in-view=false

# ================================================
# Thymeleaf
# ================================================
spring.thymeleaf.cache=true

# ================================================
# Static Resources
# ================================================
spring.web.resources.cache.period=31536000

# ================================================
# JWT (Configurar en Render Dashboard → Environment)
# ================================================
# Variable requerida: JWT_SECRET (mínimo 64 caracteres para HS512)
app.jwt.secret=${JWT_SECRET}
app.jwt.expiration-ms=${JWT_EXPIRATION_MS:86400000}

# ================================================
# Google OAuth2 (Configurar en Render si se usa)
# ================================================
app.google.client-id=${GOOGLE_CLIENT_ID:disabled}

# ================================================
# CORS (Ajustar según tu frontend en producción)
# ================================================
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:https://tu-frontend.vercel.app}

# ================================================
# File Upload (Render filesystem es efímero)
# ================================================
# NOTA: Para archivos persistentes usar S3/MinIO/Cloudinary
# Render ofrece Persistent Disks solo en planes pagos
app.upload.dir=${UPLOAD_DIR:/tmp/uploads}

# ================================================
# Logging (Production)
# ================================================
logging.level.root=WARN
logging.level.org.springframework.security=WARN
logging.level.com.malva_pastry_shop=INFO

# ================================================
# Swagger/OpenAPI (Deshabilitar en producción si no es necesario)
# ================================================
springdoc.api-docs.enabled=${SWAGGER_ENABLED:false}
springdoc.swagger-ui.enabled=${SWAGGER_ENABLED:false}
